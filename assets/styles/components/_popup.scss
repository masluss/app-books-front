@use '../mixins/_index.scss' as *;

.popup {
  position: fixed;
  top: var(--s-4);
  right: var(--s-4);
  z-index: 1000;
  display: inline-flex;
  align-items: center;
  gap: var(--s-3);
  min-width: 260px;
  max-width: 360px;
  padding: var(--s-3) var(--s-4);
  border: 1px solid var(--c-border);
  border-radius: var(--r-3);
  background: var(--c-surface);
  color: var(--c-text);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.popup__msg { line-height: 1.25; }
.popup__close {
  border: 0; background: transparent; cursor: pointer;
  font-size: 1.1rem; line-height: 1;
  opacity: .75; padding: .1rem .25rem;
  &:hover { opacity: 1; }
  &:focus-visible { @include focus-ring; }
}

$popup-variants: (
  success: var(--c-success),
  error: var(--c-error),
  info: var(--c-info),
  warning: var(--c-warning)
);

@each $name, $tone in $popup-variants {
  .popup--#{$name} {
    border-color: color-mix(in oklab, var(--c-border), #{$tone} 55%);
    background: color-mix(in oklab, var(--c-surface), #{$tone} 10%);
    color: color-mix(in oklab, var(--c-text), #{$tone} 15%);
  }
}

.toast-fade-enter-active,
.toast-fade-leave-active { transition: opacity .18s, transform .18s; }
.toast-fade-enter-from,
.toast-fade-leave-to { opacity: 0; transform: translateY(-6px); }

@media (prefers-reduced-motion: reduce) {
  .toast-fade-enter-active,
  .toast-fade-leave-active { transition: opacity .01s, transform .01s; }
  .toast-fade-enter-from,
  .toast-fade-leave-to { transform: none; }
}
